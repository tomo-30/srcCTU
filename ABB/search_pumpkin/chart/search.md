# 探索フロー

```mermaid
flowchart TD
    A["粗スキャン開始 / 押し付け点を生成 (Δ粗ピッチ)"]
    B["ピンアートセンサを地面に垂直押し付け"]
    C["点群取得 / 外れ値除去・高さ計算"]
    D{"最大高さ ≥ 閾値h ?"}
    E["地面領域として記録 (status=ground)"]
    F["精密スキャン範囲を設定 (半径r内 / Δ精ピッチ)"]
    G["高密押し付け / 局所点群生成"]
    H["形状解析 / カボチャ候補抽出"]
    I{"カボチャ候補の信頼度 ≥ θ ?"}
    J["候補なし → 次スキャン点へ"]
    K["候補あり → 収穫処理を実行"]
    L["スキャン結果をマップ更新へ送信"]

    A --> B
    B --> C
    C --> D
    D -- "いいえ" --> E
    D -- "はい" --> F
    E --> L
    F --> G
    G --> H
    H --> I
    I -- "いいえ" --> J
    I -- "はい" --> K
    J --> L
    K --> L
